(function(t){function e(e){for(var c,a,s=e[0],o=e[1],u=e[2],f=0,d=[];f<s.length;f++)a=s[f],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&d.push(r[a][0]),r[a]=0;for(c in o)Object.prototype.hasOwnProperty.call(o,c)&&(t[c]=o[c]);l&&l(e);while(d.length)d.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],c=!0,s=1;s<n.length;s++){var o=n[s];0!==r[o]&&(c=!1)}c&&(i.splice(e--,1),t=a(a.s=n[0]))}return t}var c={},r={app:0},i=[];function a(e){if(c[e])return c[e].exports;var n=c[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=c,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var c in t)a.d(n,c,function(e){return t[e]}.bind(null,c));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/the-list/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],o=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=o;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},3183:function(t,e,n){},3215:function(t,e,n){"use strict";n("39e5")},"39e5":function(t,e,n){},"3dd7":function(t,e,n){"use strict";n("9439")},"541c":function(t,e,n){"use strict";n("3183")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var c=n("7a23"),r=(n("b0c0"),{class:"main"});function i(t,e,n,i,a,s){var o=Object(c["k"])("AppForm"),u=Object(c["k"])("AppSearch"),l=Object(c["k"])("AppSort"),f=Object(c["k"])("AppList"),d=Object(c["k"])("AppLoader"),p=Object(c["k"])("ErrorMessage");return Object(c["h"])(),Object(c["c"])(c["a"],null,[Object(c["f"])("main",r,[Object(c["f"])(o),Object(c["f"])(u),Object(c["f"])(l),(Object(c["h"])(!0),Object(c["c"])(c["a"],null,Object(c["j"])(t.nodes,(function(t){return Object(c["h"])(),Object(c["c"])(f,{key:t.name.charCodeAt(),title:t.name,items:t.items},null,8,["title","items"])})),128))]),Object(c["f"])(d),Object(c["f"])(p)],64)}var a=n("5530"),s="fetchData",o="createTitles",u="createNodes",l="addItem",f="deleteItem",d="updateItem",p="changeSortDirection",b="searchItems",h="sortNodeItems",m="updateSearchValue",O=n("5502"),j={key:0,class:"list"},v={class:"list__title"},g={key:0};function S(t,e,n,r,i,a){var s=Object(c["k"])("ListItem");return n.items.length>0?(Object(c["h"])(),Object(c["c"])("ul",j,[Object(c["f"])("li",v,[Object(c["e"])(Object(c["l"])(n.title)+" ("+Object(c["l"])(n.items.length)+") ",1),Object(c["f"])("button",{class:"list__button",onClick:e[1]||(e[1]=function(){return a.toggleList&&a.toggleList.apply(a,arguments)})},Object(c["l"])(a.buttonView),1)]),(Object(c["h"])(!0),Object(c["c"])(c["a"],null,Object(c["j"])(a.renderedList,(function(t){return Object(c["h"])(),Object(c["c"])(s,{key:t._id,item:t},null,8,["item"])})),128)),a.dots?(Object(c["h"])(),Object(c["c"])("li",g,"...")):Object(c["d"])("",!0)])):Object(c["d"])("",!0)}n("4de4"),n("fb6a");var _={class:"list__item"},y={class:"list__item-text"},I={class:"list__item-buttons"},k=Object(c["f"])("i",{class:"far fa-trash-alt"},null,-1),w=Object(c["f"])("i",{class:"far fa-edit"},null,-1),V={key:0,class:"list__item"},A={class:"edit-form__label"},C=Object(c["e"])(" Title: "),L={class:"edit-form__label"},T=Object(c["e"])(" Main: "),M=Object(c["f"])("button",{class:"edit-form__button"},"Update",-1);function x(t,e,n,r,i,a){return Object(c["h"])(),Object(c["c"])(c["a"],null,[Object(c["f"])("li",_,[Object(c["f"])("span",y," - "+Object(c["l"])(n.item.title)+" { main: "+Object(c["l"])(n.item.main)+" } ",1),Object(c["f"])("div",I,[Object(c["f"])("button",{class:"list__item-delete",onClick:e[1]||(e[1]=function(t){return a.deleteItem(n.item._id)})},[k]),Object(c["f"])("button",{class:"list__item-change",onClick:e[2]||(e[2]=function(t){return a.openEditor()})},[w])])]),i.editable?(Object(c["h"])(),Object(c["c"])("li",V,[Object(c["f"])("form",{class:"edit-form",onSubmit:e[5]||(e[5]=Object(c["r"])((function(t){return a.updateItem()}),["prevent"]))},[Object(c["f"])("label",A,[C,Object(c["q"])(Object(c["f"])("input",{class:"edit-form__title","onUpdate:modelValue":e[3]||(e[3]=function(t){return i.inputTitle=t}),type:"text"},null,512),[[c["n"],i.inputTitle]])]),Object(c["f"])("label",L,[T,Object(c["q"])(Object(c["f"])("input",{class:"edit-form__checkbox","onUpdate:modelValue":e[4]||(e[4]=function(t){return i.inputMain=t}),type:"checkbox"},null,512),[[c["m"],i.inputMain]])]),M],32)])):Object(c["d"])("",!0)],64)}var D={name:"ListItem",props:{item:{type:Object,required:!0}},data:function(){return{editable:!1,inputTitle:"",inputMain:!1}},methods:{deleteItem:function(t){this.$store.dispatch(f,t)},updateItem:function(){var t={id:this.item._id,title:this.inputTitle,isMain:this.inputMain};try{this.$store.dispatch(d,t),this.editable=!1}catch(e){console.log(e.message)}},openEditor:function(){this.editable=!this.editable,this.inputTitle=this.item.title,this.inputMain=this.item.main}}};n("541c");D.render=x;var $=D,E={name:"AppList",components:{ListItem:$},props:{items:{type:Array},title:{type:String}},data:function(){return{isShortView:!0}},methods:{toggleList:function(){this.isShortView=!this.isShortView}},computed:{renderedList:function(){var t=this.items.filter((function(t){return t.main}));return t.length>0&&this.isShortView?t.slice(0,5):this.isShortView?this.items.slice(0,5):this.items},buttonView:function(){return this.isShortView?">>":"<<"},dots:function(){return this.isShortView&&this.items.length!==this.renderedList.length}}};n("6f0d");E.render=S;var F=E,P=Object(c["f"])("button",{class:"app-form__button"},"Add Item",-1);function q(t,e,n,r,i,a){return Object(c["h"])(),Object(c["c"])("form",{class:"app-form",onSubmit:e[2]||(e[2]=Object(c["r"])((function(){return a.submitForm&&a.submitForm.apply(a,arguments)}),["prevent"]))},[Object(c["q"])(Object(c["f"])("input",{class:"app-form__input","onUpdate:modelValue":e[1]||(e[1]=function(t){return i.addInputValue=t}),type:"text",placeholder:"Some item title",required:""},null,512),[[c["n"],i.addInputValue]]),P],32)}n("498a");var U={name:"AppForm",data:function(){return{addInputValue:""}},methods:{submitForm:function(){this.addInputValue.trim()&&(this.$store.dispatch(l,this.addInputValue.trim()),this.addInputValue="")}}};n("ca60");U.render=q;var B=U,R={key:0,class:"app-loader"},N=Object(c["f"])("div",{class:"lds-ring"},[Object(c["f"])("div"),Object(c["f"])("div"),Object(c["f"])("div"),Object(c["f"])("div")],-1);function J(t,e,n,r,i,a){return t.loadingStatus?(Object(c["h"])(),Object(c["c"])("div",R,[N])):Object(c["d"])("",!0)}var Z={name:"AppLoader",computed:Object(a["a"])({},Object(O["b"])(["loadingStatus"]))};n("3215");Z.render=J;var z=Z,G={class:"search-wrapper"},H=Object(c["f"])("i",{class:"fas fa-times"},null,-1);function K(t,e,n,r,i,a){return Object(c["h"])(),Object(c["c"])("div",G,[Object(c["f"])("form",{onSubmit:e[3]||(e[3]=Object(c["r"])((function(){}),["prevent"])),class:"search"},[Object(c["f"])("input",{class:"search__input",type:"text",value:t.searchValue,onInput:e[1]||(e[1]=function(t){return a.updateSearch(t.target.value)}),placeholder:"Search..."},null,40,["value"]),Object(c["f"])("button",{class:"search__clear",type:"button",onClick:e[2]||(e[2]=function(){return a.clearInput&&a.clearInput.apply(a,arguments)})},[H])],32),Object(c["f"])("button",{class:["search__case-sense",{"search__case-sense--active":t.caseSensitive}],onClick:e[4]||(e[4]=function(){return a.toggleCaseSens&&a.toggleCaseSens.apply(a,arguments)})}," Az ",2)])}var Q="setData",W="setNodes",X="setTitles",Y="setSortDirection",tt="setLoadStatus",et="setSearchValue",nt="changeCaseSensitive",ct="setError",rt={name:"AppSearch",methods:{clearInput:function(){this.$store.dispatch(m,"")},toggleCaseSens:function(){this.$store.commit(nt)},updateSearch:function(t){this.$store.dispatch(m,t)}},computed:Object(a["a"])({},Object(O["b"])(["caseSensitive","searchValue"]))};n("bfc8");rt.render=K;var it=rt,at={class:"sort"};function st(t,e,n,r,i,a){var s=Object(c["k"])("SortButton");return Object(c["h"])(),Object(c["c"])("div",at,[Object(c["f"])(s,{sortType:"A-Z",direction:"asc",onChangeSortDirection:a.changeSort},null,8,["onChangeSortDirection"]),Object(c["f"])(s,{sortType:"Z-A",direction:"desc",onChangeSortDirection:a.changeSort},null,8,["onChangeSortDirection"])])}function ot(t,e,n,r,i,a){return Object(c["h"])(),Object(c["c"])("button",{class:["sort__button",this.isActiveClass],onClick:e[1]||(e[1]=function(e){return t.$emit("changeSortDirection",n.direction)})},Object(c["l"])(n.sortType),3)}n("4e82");var ut={name:"SortButton",emits:["changeSortDirection"],props:{sortType:{type:String},direction:{type:String}},computed:{isActiveClass:function(){var t=this.$store.state.sort.sortType;return t===this.direction?"sort__button--active":""}}};n("3dd7");ut.render=ot;var lt=ut,ft={name:"AppSort",components:{SortButton:lt},methods:{changeSort:function(t){this.$store.dispatch(p,t)}}};n("6e1f");ft.render=st;var dt=ft,pt={class:"error"},bt={class:"error__content"},ht=Object(c["f"])("h3",{class:"error__header"},"Error notification!",-1),mt={class:"error__body"},Ot=Object(c["e"])(" Oooops! "),jt=Object(c["f"])("br",null,null,-1),vt=Object(c["e"])(" Looks like there is an error! "),gt=Object(c["f"])("br",null,null,-1);function St(t,e,n,r,i,a){return Object(c["q"])((Object(c["h"])(),Object(c["c"])("div",pt,[Object(c["f"])("div",bt,[ht,Object(c["f"])("div",mt,[Ot,jt,vt,gt,Object(c["e"])(" "+Object(c["l"])(t.errorMessage),1)]),Object(c["f"])("button",{class:"error__close",onClick:e[1]||(e[1]=function(){return a.dismiss&&a.dismiss.apply(a,arguments)})},"Dismiss")])],512)),[[c["o"],t.errorMessage]])}var _t={data:function(){return{show:!0}},methods:{dismiss:function(){this.$store.commit(ct,"")}},computed:Object(a["a"])({},Object(O["b"])(["errorMessage"]))};n("fc44");_t.render=St;var yt=_t,It={name:"App",components:{AppSearch:it,AppList:F,AppForm:B,AppLoader:z,AppSort:dt,ErrorMessage:yt},computed:Object(a["a"])({},Object(O["b"])(["nodes"])),created:function(){this.$store.dispatch(s)}};n("752c");It.render=i;var kt,wt,Vt,At,Ct,Lt=It,Tt=n("ade3"),Mt=n("1da1"),xt=(n("159b"),n("96cf"),n("99af"),n("bc3a")),Dt=n.n(xt),$t="https://recruting-test-api.herokuapp.com/api/v1/",Et=Dt.a.create({baseURL:$t}),Ft={getAllItems:function(){return Et.get("/brands")},getItemByID:function(t,e){return Et.get("".concat(t,"/").concat(e))},createItem:function(t){return Et.post("/brands",t)},updateItem:function(t,e){return Et.put("brand/"+t,e)},deleteItem:function(t){return Et.delete("/brand/"+t)}},Pt={data:[],titles:[],nodes:[],loadingStatus:!1,errorStatus:""},qt=Object(a["a"])({},Pt),Ut=(kt={},Object(Tt["a"])(kt,s,(function(t){return Object(Mt["a"])(regeneratorRuntime.mark((function e(){var n,c,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.dispatch,c=t.commit,r=t.state,c(tt),Ft.getAllItems().then((function(t){return c(Q,{data:t.data})})).then((function(){return n(o)})).then((function(){return n(u,r.data)})).then((function(){return n(h)})).then((function(){return c(tt)})).catch((function(t){return c(ct,t.response.status)}));case 3:case"end":return e.stop()}}),e)})))()})),Object(Tt["a"])(kt,o,(function(t){var e=t.commit,n=t.state,c=[];n.data.forEach((function(t){-1===c.indexOf(t.title[0])&&c.push(t.title[0])})),e(X,{titles:c})})),Object(Tt["a"])(kt,u,(function(t,e){var n=t.commit,c=t.state,r=[];c.titles.forEach((function(t){var n=t,c=e.filter((function(e){return e.title[0]===t}));r.push({name:n,items:c})})),n(W,{nodes:r})})),Object(Tt["a"])(kt,l,(function(t,e){var n=t.dispatch,c=t.commit;Ft.createItem({title:e,main:!0}).then((function(){return n(s)})).catch((function(t){return c(ct,t.response.status)}))})),Object(Tt["a"])(kt,f,(function(t,e){var n=t.dispatch,c=t.commit;Ft.deleteItem(e).then((function(){return n(s)})).catch((function(t){return c(ct,t.response.status)}))})),Object(Tt["a"])(kt,d,(function(t,e){var n=t.dispatch,c=t.commit;Ft.updateItem(e.id,{title:e.title,main:e.isMain}).then((function(){return n(s)})).catch((function(t){return c(ct,t.response.status)}))})),kt),Bt=(wt={},Object(Tt["a"])(wt,Q,(function(t,e){t.data=e.data})),Object(Tt["a"])(wt,W,(function(t,e){t.nodes=e.nodes})),Object(Tt["a"])(wt,X,(function(t,e){t.titles=e.titles})),Object(Tt["a"])(wt,tt,(function(t){t.loadingStatus=!t.loadingStatus})),Object(Tt["a"])(wt,ct,(function(t,e){t.errorStatus=e})),wt),Rt={fullData:function(t){return t.data},titles:function(t){return t.titles},nodes:function(t){return t.nodes},loadingStatus:function(t){return t.loadingStatus},errorMessage:function(t){switch(t.errorStatus){case 404:return"Item not found";case 422:return"Fill the input area";case 500:return"Server failure refresh the page"}}},Nt={state:qt,actions:Ut,mutations:Bt,getters:Rt},Jt=n("2909"),Zt=(n("d81d"),{sortType:"asc"}),zt=Object(a["a"])({},Zt),Gt=(Vt={},Object(Tt["a"])(Vt,h,(function(t){var e=t.rootState,n=t.state,c=t.dispatch,r=[];e.list.nodes.map((function(t){return r.push.apply(r,Object(Jt["a"])(t.items))}));var i=r.map((function(t,e){return{index:e,value:t.title.toLowerCase()}}));"asc"===n.sortType&&i.sort((function(t,e){return t.value>e.value?1:t.value<e.value?-1:0})),"desc"===n.sortType&&i.sort((function(t,e){return t.value<e.value?1:t.value>e.value?-1:0}));var a=i.map((function(t){return r[t.index]}));c(u,a)})),Object(Tt["a"])(Vt,p,(function(t,e){var n=t.commit,c=t.dispatch;n(Y,e),c(h)})),Vt),Ht=Object(Tt["a"])({},Y,(function(t,e){t.sortType=e})),Kt={state:zt,mutations:Ht,actions:Gt},Qt=(n("4d63"),n("ac1f"),n("25f0"),{caseSensitive:!0,searchValue:""}),Wt=Object(a["a"])({},Qt),Xt=(At={},Object(Tt["a"])(At,b,(function(t){var e=t.dispatch,n=t.state,c=t.rootState,r=n.caseSensitive?"":"i",i=new RegExp(n.searchValue,r),a=c.list.data.filter((function(t){return i.test(t.title)}));e(u,a)})),Object(Tt["a"])(At,m,(function(t,e){var n=t.dispatch,c=t.commit;c(et,e),n(b)})),At),Yt=(Ct={},Object(Tt["a"])(Ct,nt,(function(t){t.caseSensitive=!t.caseSensitive})),Object(Tt["a"])(Ct,et,(function(t,e){t.searchValue=e})),Ct),te={caseSensitive:function(t){return t.caseSensitive},searchValue:function(t){return t.searchValue}},ee={state:Wt,mutations:Yt,actions:Xt,getters:te},ne=Object(O["a"])({state:{},mutations:{},actions:{},modules:{list:Nt,sort:Kt,search:ee}});Object(c["b"])(Lt).use(ne).mount("#app")},6515:function(t,e,n){},"6e1f":function(t,e,n){"use strict";n("721f")},"6f0d":function(t,e,n){"use strict";n("f27c")},"721f":function(t,e,n){},"752c":function(t,e,n){"use strict";n("79e8")},"79e8":function(t,e,n){},9439:function(t,e,n){},9895:function(t,e,n){},bfc8:function(t,e,n){"use strict";n("9895")},ca60:function(t,e,n){"use strict";n("f698")},f27c:function(t,e,n){},f698:function(t,e,n){},fc44:function(t,e,n){"use strict";n("6515")}});
//# sourceMappingURL=app.578d4626.js.map